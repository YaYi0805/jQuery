<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ajax</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>jQuery ajax</h1>
    </header>
    <div id="container">
        <button id="btn">AJAX</button>
        <ul id="data">
            <li></li>
        </ul>
    </div>
    <script src="/jquery-3.6.0.js"></script>
    <script>
        $(function () {
            /*
            $.ajax({
                url:'',               //url的位置controller
                type:'',              //get or post
                data:{},              //輸入的資料
                success:function(){}, //成功後執行函數
                error:function(){}    //失敗後執行函數
            })
            */
           $('#btn').on('click',function(){
               $.ajax({
                   url:'./testjson.json',
                   type:'get',
                   success:function(response){
                       console.log(response)
                       $.each(response,function(index,ele){
                           console.log(ele)
                           $('#data').append(
                               `
                               <li>${ele.paxCnt}</li>
                               <li>${ele.gender}</li>
                               <li>${ele.inOutTransit}</li>
                               `
                           )
                       })
                   },
                   error:function(xhr){
                       alert(`發生錯誤 ${xhr.status},${xhr.statusText}`)
                   }
               })
           })
           

        })
    </script>
</body>

</html>